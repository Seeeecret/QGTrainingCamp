# 方法引用

## 1.0	方法引用简概

​	Java方法引用是Java 8的新特性之一，可以直接引用已有Java类或对象的方法或构造器。方法引用通常与Lambda表达式结合使用或者代替lambda表达式以简化代码。方法引用使用一对冒号 **::** 表示。例如，Math::abs就是引用Math类的静态方法abs。

​	概括来说就是:

​	<u>把已经有的方法拿过来用，当做函数式接口中抽象方法的方法体。</u>

### 1.1	使用条件

1. 引用处必须是**函数式接口**
2. 被引用的方法必须已经存在
3. 被引用方法的**形参**和返回值需要跟抽象方法保持一致
4. 被引用方法的功能要满足当前需求

### 1.2	分类

​	根据不同的引用对象，方法引用有四种类型。

- 类::静态方法，例如Math::abs，引用Math类的静态方法abs和Intger类的静态方法parseInt
- 类::实例方法，例如String::length，引用String类的实例方法length
- 对象::实例方法，例如System.out::println，引用System.out对象的实例方法println。本类的非静态方法可以用this::实例方法 引用，父类的非静态方法可以用super::实例方法 引用

- 类::new，例如Car::new，引用Car类的构造器





### 1.4	重点说说 类::实例方法

​	类::实例方法的情况具有局限性:

  - 不能引用所有类中的成员方法。

    能引用的方法抽象方法跟对应函数式接口的抽象方法的第一个参数有关，这个参数是什么类型的，那么就只能引用这个类及其子类中的方法。

  - 除此之外还跟剩下的参数和返回值是否和函数式接口的抽象方法匹配有关。下例

    - 函数式接口的抽象方法的**第一个参数**，在调用实例方法时，会作为实例方法的**调用者**。函数式接口的抽象方法除了第一个参数外，剩下的参数（如果有），<u>必须和实例方法的参数一一对应</u>。

        - 例如1: String::compareTo相当于(s1, s2) -> s1.compareTo(s2)，其中s1是**调用者**，s2是参数。
        - 例2:String::compareTo只能用于Comparator<String>接口，不能用于BiFunction<String, String, Integer>接口，因为后者有两个参数而前者只有一个参数。
        - ☆简单来说就是:
            - 函数式接口中的抽象方法的**第一个参数**，在方法引用处理后，对应的是被引用的实例方法的**调用对象**。
            - 函数式接口中的抽象方法的**第二个参数**，在方法引用处理后，对应的是被引用的实例方法的**第一个参数**。之后以此类推。
            - 函数式接口中的抽象方法与要引用的实例方法的参数类型和数量需严格按照上述规则对应。
            

        